# ============================================================
# AI Voice Agent Platform — Environment Configuration
# Copy to .env and fill in your values
# ============================================================

# App
APP_ENV=development
APP_HOST=0.0.0.0
APP_PORT=8000
API_KEY=your-internal-api-key-here       # Used to authenticate calls to our own API

# ---- Telephony: Telnyx ----
TELNYX_API_KEY=KEY_...
TELNYX_CONNECTION_ID=...                 # SIP Connection ID from Telnyx portal
TELNYX_FROM_NUMBER=+1XXXXXXXXXX          # Your Telnyx phone number (E.164)
# Public base URL of this server (used to build webhook + WebSocket URLs)
# In dev: use ngrok, e.g. https://xxxx.ngrok.io
# In prod: your Cloud Run URL, e.g. https://salescallagent-xxxx.run.app
PUBLIC_BASE_URL=https://xxxx.ngrok.io

# ---- Google Cloud ----
GOOGLE_CLOUD_PROJECT=your-gcp-project-id
GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json
# OR use Application Default Credentials (recommended on GCP)

# ---- Google AI (Gemini) ----
GEMINI_API_KEY=AIza...
GEMINI_PRIMARY_MODEL=gemini-2.0-flash
GEMINI_FALLBACK_MODEL=gemini-1.5-flash

# ---- Google Cloud TTS ----
TTS_VOICE_NAME=en-US-Journey-D           # Neural2 Journey voice
TTS_LANGUAGE_CODE=en-US
TTS_SAMPLE_RATE=8000                     # Must be 8000 for telephony (μ-law)

# ---- Google Cloud STT ----
STT_MODEL=telephony                      # Optimized for 8kHz phone audio
STT_LANGUAGE_CODE=en-US

# ---- Database: PostgreSQL ----
DATABASE_URL=postgresql+asyncpg://agent:agent@localhost:5432/salescallagent
# For local docker-compose:
# DATABASE_URL=postgresql+asyncpg://agent:agent@postgres:5432/salescallagent

# ---- Cache: Redis ----
REDIS_URL=redis://localhost:6379/0
# For local docker-compose:
# REDIS_URL=redis://redis:6379/0

# ---- Storage: GCS (for TTS audio cache + call recordings) ----
GCS_BUCKET_NAME=salescallagent-media

# ---- Integrations:# Calendly (Optional Phase 1 scheduling)
CALENDLY_API_KEY=""
CALENDLY_EVENT_URL="https://calendly.com/your-name/demo"

# SMTP Settings (For Appointment Confirmations)
# Example: SendGrid, Resend, or Google App Passwords
SMTP_HOST="smtp.resend.com"
SMTP_PORT=465
SMTP_USERNAME="resend"
SMTP_PASSWORD="re_..."
SMTP_FROM_EMAIL="Assistant <booking@yourdomain.com>"

# ---- Pricing ----
# Cost per minute charged to tenants (above our infra cost)
STANDARD_PRICE_PER_MINUTE=0.05
